Can You Beat Mr. Market? is an original investing game designed to realistically emulate the challenges of developing a stock-picking strategy that outperforms the broader market. The game pits the player, an intrepid stock picker, against the performance of “Mr. Market”, who always chooses a portfolio that exactly replicates the stock market as a whole. 

The game employs a fictional stock market comprising 10 companies, which vary in industry, market capitalization and volatility. The companies are stored in the stocksArray module. On initialization, the properties of each object in the stocksArray are passed into the Stocks class to create new Stock object-instances. These Stock objects are then pushed to the gameState module’s allStocks array on initialization. 

The allStocks array is used to populate the stockDropdown menu via the populateDropdown function, which is nested within the setupUI function in the UI hander module. The player can select any stock from the stockDropdown menu, at which point the selectedStock’s properties are inserted into stockDetailsTable and the buyStockBtn is displayed on the UI. Once purchased, the selectedStock’s starting shareprice is displayed on the stockDetailsTable and the playBtn is displayed. The playBtn calls the playGame function when clicked, and the game is on!

The player now has 24 turns to try to outperform Mr. Market.  Each turn represents one fiscal quarter, beginning in Q1, 2024 and ending on the first quarter of 2030. The game implements a simple backend algorithm to generate a unique, randomized performance figure every quarter for each stock. Mr. Market’s performance is an average of the performance of all stocks in the market, weighted based on each company’s respective market-capitalization. 

Can You Beat Mr. Market? aims to exhibit a realistic, albeit simplified, representation of how the stock market actually performs. Specifically, each stock’s performance is influenced partly by factors that effect the entire market, and partly by factors unique to the particular company. 

The game features two market-wide factors: a constant “risk free” rate of return, annualRFR, and a variable market volatility randomizer, mktVol. Each click of the playBtn, which progresses the player from quarter to quarter, calls the gameState module’s updateAllStockPrices method. This function resets the mktVol property using the updateMarketVolatility method, which combines a simple randomizer with the quarterlyRFR to determine the mktVol for that quarter.

Each stock, meanwhile, exhibits a constant “beta”, which represents that particular company’s sensitivity to market fluctuations. For example, FreshFarm Foods, a fictional grocery store selling household staples, is relatively insulated from market risk; BlueSky Airlines, which specializes in luxury travel, is highly dependent on market cycles. Each stock is an object-instance of a broader Stocks class.

After resetting mktVol, the updateAllStockPrices method iterates through each stock and calls the updateStockPrice method. This method determines the specific quarterly performance for each stock based on mktVol and a stock-specific randomizer. The effect of mktVol is modulated based on the specific stock’s beta to reflect real-world market dynamics. The quarterly and total performance of the selected stock and the broader stock market are logged to the stockPerformanceTable via the playGame function’s nested updateSelectedStockUI updatePerformanceTable, respectively.

The game ends on Q1, 2030, at which time the playGame function automatically compares the player’s performance to that of Mr. Market and calls the winner. Respective wins are stored in the game’s local state as a property of the gameState object. 
